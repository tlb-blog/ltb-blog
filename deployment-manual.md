# VuePress ãƒ–ãƒ­ã‚° ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ ãƒãƒ‹ãƒ¥ã‚¢ãƒ«

## ğŸ”„ ãƒ‡ãƒ—ãƒ­ã‚¤ã®ä»•çµ„ã¿

### ç¾åœ¨ã®æ­£ã—ã„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. **mainãƒ–ãƒ©ãƒ³ãƒã§ä½œæ¥­**
   - è¨˜äº‹ã®è¿½åŠ ãƒ»ç·¨é›†
   - è¨­å®šå¤‰æ›´
   - ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®è¿½åŠ 

2. **mainãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥**
   ```bash
   git add .
   git commit -m "è¨˜äº‹è¿½åŠ /ä¿®æ­£å†…å®¹"
   git push origin main
   ```

3. **GitHub Actionsè‡ªå‹•å®Ÿè¡Œ**
   - `.github/workflows/gh-pages.yml`ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹
   - VuePressã®ãƒ“ãƒ«ãƒ‰ã‚’è¡Œã†
   - ãƒ‘ãƒƒãƒã‚¹ã‚¯ãƒªãƒ—ãƒˆ(`scripts/patch-dist.ps1`)ã§ãƒ‘ã‚¹ä¿®æ­£
   - GitHub Pagesã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### âš ï¸ é‡è¦ãªæ³¨æ„ç‚¹

**`gh-pages`ãƒ–ãƒ©ãƒ³ãƒã«ã¯ç›´æ¥ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã§ãã ã•ã„ï¼**

- `gh-pages`ãƒ–ãƒ©ãƒ³ãƒã¯GitHub ActionsãŒè‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚‚ã®
- æ‰‹å‹•ã§ã‚³ãƒŸãƒƒãƒˆã™ã‚‹ã¨è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå£Šã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹
- å¸¸ã«`main`ãƒ–ãƒ©ãƒ³ãƒã§ä½œæ¥­ã™ã‚‹

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
a-blog/
â”œâ”€â”€ docs/                           # VuePressã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ .vuepress/
â”‚   â”‚   â”œâ”€â”€ config.js              # VuePressè¨­å®š
â”‚   â”‚   â””â”€â”€ dist/                  # ãƒ“ãƒ«ãƒ‰æˆæœç‰©ï¼ˆgitignoreï¼‰
â”‚   â””â”€â”€ post/                      # è¨˜äº‹ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ .gh-pages/                     # GitHub Actionsãƒ“ãƒ«ãƒ‰æˆæœç‰©ï¼ˆæ‰‹å‹•ä¿®æ­£ç¦æ­¢ï¼‰
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ patch-dist.ps1            # ãƒ‘ã‚¹ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ thumbnail-fix-manual.ps1  # ã‚µãƒ ãƒã‚¤ãƒ«ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç·Šæ€¥ç”¨ï¼‰
â””â”€â”€ .github/workflows/
    â””â”€â”€ gh-pages.yml              # GitHub Actionsè¨­å®š
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### æ—¥å¸¸çš„ãªè¨˜äº‹æŠ•ç¨¿ãƒ»æ›´æ–°

1. **è¨˜äº‹ä½œæˆ/ç·¨é›†**
   ```bash
   # æ–°ã—ã„è¨˜äº‹ä½œæˆ
   docs/post/ã‚«ãƒ†ã‚´ãƒªå/è¨˜äº‹å.md
   ```

2. **ç”»åƒè¿½åŠ **
   ```bash
   # ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ
   docs/.vuepress/public/article_images/ã‚«ãƒ†ã‚´ãƒªå/ã‚µãƒ ãƒã‚¤ãƒ«.png
   
   # è¨˜äº‹å†…ç”»åƒ
   docs/.vuepress/public/article_images/ã‚«ãƒ†ã‚´ãƒªå/ç”»åƒ.png
   ```

3. **ãƒ­ãƒ¼ã‚«ãƒ«ç¢ºèª**
   ```bash
   npm run dev
   # http://localhost:8080 ã§ç¢ºèª
   ```

4. **ãƒ‡ãƒ—ãƒ­ã‚¤**
   ```bash
   git add .
   git commit -m "è¨˜äº‹è¿½åŠ : ã‚¿ã‚¤ãƒˆãƒ«"
   git push origin main
   ```

5. **çµæœç¢ºèª**
   - GitHub Actionsã®å®Ÿè¡ŒçŠ¶æ³: https://github.com/tlb-blog/ltb-blog/actions
   - ãƒ©ã‚¤ãƒ–ã‚µã‚¤ãƒˆ: https://tlb-blog.github.io/ltb-blog/
   - é€šå¸¸1-3åˆ†ã§åæ˜ ã•ã‚Œã‚‹

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ

1. **ã¾ãšç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯**
   ```bash
   # ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®ç¢ºèª
   ls docs/.vuepress/public/article_images/health/
   ```

2. **è¨˜äº‹ã®frontmatterã‚’ç¢ºèª**
   ```yaml
   ---
   title: è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«
   image: /article_images/health/ã‚µãƒ ãƒã‚¤ãƒ«.png  # ã“ã®éƒ¨åˆ†
   ---
   ```

3. **ç·Šæ€¥æ™‚ã®ã‚µãƒ ãƒã‚¤ãƒ«ä¿®æ­£**
   ```bash
   # ç·Šæ€¥ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œï¼ˆmainãƒ–ãƒ©ãƒ³ãƒã§å®Ÿè¡Œï¼‰
   .\scripts\thumbnail-fix-manual.ps1 docs\.vuepress\dist
   
   # ãã®å¾Œé€šå¸¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤
   git add .
   git commit -m "ã‚µãƒ ãƒã‚¤ãƒ«ä¿®æ­£"
   git push origin main
   ```

### GitHub Actionså®Ÿè¡Œå¤±æ•—ã®å ´åˆ

1. **Actionsç”»é¢ã§è©³ç´°ç¢ºèª**
   - https://github.com/tlb-blog/ltb-blog/actions
   - å¤±æ•—ã—ãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª

2. **ã‚ˆãã‚ã‚‹åŸå› **
   - Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸ä¸€è‡´
   - ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼
   - ãƒ‘ãƒƒãƒã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã‚¨ãƒ©ãƒ¼

3. **ä¿®æ­£å¾Œã®å†å®Ÿè¡Œ**
   ```bash
   # ä¿®æ­£å¾Œã€ç©ºã‚³ãƒŸãƒƒãƒˆã§å†å®Ÿè¡Œ
   git commit --allow-empty -m "GitHub Actionså†å®Ÿè¡Œ"
   git push origin main
   ```

## ğŸ“‹ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### VuePressè¨­å®š (docs/.vuepress/config.js)
```javascript
base: process.env.CI ? `/${process.env.GITHUB_REPOSITORY?.split('/')[1] || 'ltb-blog'}/` : '/'
```

### GitHub Actions (/.github/workflows/gh-pages.yml)
- mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã§è‡ªå‹•å®Ÿè¡Œ
- Node.js 18ã‚’ä½¿ç”¨
- `npm run build`ã§ãƒ“ãƒ«ãƒ‰
- `scripts/patch-dist.ps1`ã§ãƒ‘ã‚¹ä¿®æ­£
- GitHub Pagesã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### è¨˜äº‹æŠ•ç¨¿å‰
- [ ] ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ã„å ´æ‰€ã«ã‚ã‚‹
- [ ] frontmatterã®imageå±æ€§ãŒæ­£ã—ã„
- [ ] ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç¢ºèªæ¸ˆã¿

### ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ
- [ ] GitHub ActionsãŒæˆåŠŸã—ã¦ã„ã‚‹
- [ ] ãƒ©ã‚¤ãƒ–ã‚µã‚¤ãƒˆã§è¨˜äº‹ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ç”»åƒãƒªãƒ³ã‚¯ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹

## ğŸš¨ ç·Šæ€¥æ™‚ã®å¯¾å¿œ

### `.gh-pages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’èª¤ã£ã¦ä¿®æ­£ã—ãŸå ´åˆ

1. **worktreeã‚’ãƒªã‚»ãƒƒãƒˆ**
   ```bash
   git worktree remove -f .gh-pages
   git worktree prune
   git worktree add .gh-pages origin/gh-pages
   ```

2. **mainãƒ–ãƒ©ãƒ³ãƒã§å†ãƒ‡ãƒ—ãƒ­ã‚¤**
   ```bash
   git commit --allow-empty -m "ç·Šæ€¥ãƒ‡ãƒ—ãƒ­ã‚¤"
   git push origin main
   ```

### ã‚µã‚¤ãƒˆå…¨ä½“ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ

1. **GitHub Pagesè¨­å®šç¢ºèª**
   - Settings â†’ Pages
   - Source: GitHub Actions ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹äº‹ã‚’ç¢ºèª

2. **å¼·åˆ¶ãƒªãƒ“ãƒ«ãƒ‰**
   ```bash
   git commit --allow-empty -m "Force rebuild"
   git push origin main
   ```

---

**âš ï¸ é‡è¦ãªåŸå‰‡:**
- **å¸¸ã«mainãƒ–ãƒ©ãƒ³ãƒã§ä½œæ¥­ã™ã‚‹**
- **gh-pagesãƒ–ãƒ©ãƒ³ãƒã«ã¯ç›´æ¥ã‚³ãƒŸãƒƒãƒˆã—ãªã„**
- **å•é¡ŒãŒã‚ã£ã¦ã‚‚ã¾ãšmainãƒ–ãƒ©ãƒ³ãƒã§ä¿®æ­£ã—ã¦ã‹ã‚‰ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹**